#ludic-main-container, #selection-popup {
  .item, .ludic-add-button {
    display: inline-block;
    width: calc(~'25% - 40px');
    height: 132px;
    margin: 20px;
    border: 1px solid black;
    position: relative;
    background-color: white;

    &.has-icon-top {
      margin-top: 30px;
    }

    &.has-icon-bottom {
      margin-bottom: 30px;
    }

    &:not(.in-edition):not(.ludic-add-button) {
      height: 202px;

      &.child {
        height: 172px;
      }
    }

    &.ludic-add-button {
      background-position: center;
      background-size: 50px;
      background-repeat: no-repeat;
      background-image: url([[pix:format_ludic|plus]]);
    }

    .item-img-container {
      background-position: center;
      background-size: contain;
      background-repeat: no-repeat;
      height: calc(~'100% - 30px');
    }

    .item-content-container {
      height: 100%;
      overflow: hidden;
    }

    &:not(.inline) .item-title {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 30px;
      overflow: hidden;
      text-align: center;
      font-size: 15px;
      line-height: 15px;
    }

    .item-icon {
      position: absolute;
      z-index: 11;
      width: 40px;
      height: 50px;
      right: -20px;
      background-color: #FFF;
      background-size: 30px;
      background-repeat: no-repeat;
      background-position: center center;
      border: 1px solid black;

      &.position-top {
        top: -20px;
      }

      &.position-bottom {
        bottom: -20px;
      }

      a {
        display: block;
        width: 100%;
        height: 100%;
      }
    }

    &.selected {
      border: 3px solid red;

      .item-icon {
        border: 3px solid red !important;
      }

      &.is-not-visible:after {
        border: 3px solid red !important;
      }

    }

    &.pre-selected {
      border: 2px solid orange;

      .item-icon {
        border: 2px solid orange;
      }

      &.is-not-visible:after {
        border: 2px solid orange;
      }

    }

    &.hide, &.hide-js {
      display: none;
    }

    &.ludic-drag:hover:not(.selected):not(.pre-selected), &.ludic-drag:focus:not(.selected):not(.pre-selected) {
      border: 2px #0a6aa1 dashed;

      .item-icon, &.is-not-visible:after {
        border: 2px #0a6aa1 dashed !important;
      }

    }

    &.is-not-visible {
      background-color: #efefef;

      &:after {
        content: '';
        display: inline-block;
        width: 30px;
        height: 30px;
        position: absolute;
        left: -15px;
        top: calc(~'50% - 15px');
        border: 1px solid #000;
        border-radius: 15px;
        background-color: white;
        background-image: url("[[pix:moodle|i/show]]");
        background-size: 18px;
        background-repeat: no-repeat;
        background-position: center center;

      }
    }

    // Extra small devices (portrait phones, less than 576px)
    @media (max-width: 575.98px) {
      width: 100%;
      margin: 0 0 20px 0;
    }

    // Small devices (landscape phones, 576px and up)
    @media (min-width: 576px) and (max-width: 767.98px) {
      width: calc(~'50% - 40px');
    }

    // Medium devices (tablets, 768px and up)
    @media (min-width: 768px) and (max-width: 991.98px) {
      width: calc(~'33.33% - 40px');
    }

    // Large devices (desktops, 992px and up)
    @media (min-width: 992px) and (max-width: 1199.98px) {
      width: calc(~'33.33% - 40px');
    }
  }

  .item.section-0 {
     .item-title {
      height: 100%;
      padding: 0 20px;
    }
  }
}
