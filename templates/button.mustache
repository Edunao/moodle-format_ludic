{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template format_ludic/headerbar

    Displays the header bar

    Context variables required for this template:
    * buttons Array - each button is an object with a name, a link and an indicator of position (right / left).

    Example context (json):
    {
        "buttons": [
            {"name": "Title",   "shortname": "title",   "link": "value",                           "left": false},
            {"name": "Course",  "shortname": "course",  "link": "/course/view.php?id=2",           "left": true},
            {"name": "Section", "shortname": "section", "link": "/course/view.php?id=2&section=1", "left": true}
        ]
    }
}}

<button type="button" class="ludic-button{{#hasaction}} ludic-action{{/hasaction}}{{#hassubbuttons}} show-sub-buttons{{/hassubbuttons}}"
    data-identifier="{{identifier}}"
    {{#itemtype}}data-itemtype="{{itemtype}}"{{/itemtype}}
    {{#itemid}}data-itemid="{{itemid}}"{{/itemid}}
    {{#link}} data-link="{{link}}"{{/link}}
    {{#disabled}} disabled{{/disabled}}
    {{#controller}} data-controller="{{controller}}"{{/controller}}
    {{#action}} data-action="{{action}}"{{/action}}
    {{#callback}} data-callback="{{callback}}"{{/callback}}
    {{#order}} data-order="{{order}}"{{/order}}
>
    {{name}}{{#hassubbuttons}}<span> <b>É„</b></span>{{/hassubbuttons}}
</button>

{{#hassubbuttons}}
    <div class="container-sub-buttons hide" for="{{identifier}}">
        {{#subbuttons}}
            <button type="button" class="ludic-button sub-buttons{{#hasaction}} ludic-action{{/hasaction}}" data-identifier="{{identifier}}"
                {{#link}} data-link="{{link}}"{{/link}}
                {{#disabled}} disabled{{/disabled}}
                {{#controller}} data-controller="{{controller}}"{{/controller}}
                {{#action}} data-action="{{action}}"{{/action}}
                {{#callback}} data-callback="{{callback}}"{{/callback}}
                {{#order}} data-order="{{order}}"{{/order}}
            >
                {{name}}
            </button>
        {{/subbuttons}}
    </div>
{{/hassubbuttons}}